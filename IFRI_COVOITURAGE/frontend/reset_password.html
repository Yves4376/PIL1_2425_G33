<!-- reset_password.html -->
 <!DOCTYPE html>
 <html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Réinitialiser - IFRI Covoiturage</title>
        <link rel="stylesheet" href="css/style.css">
      </head>
      <body>
        <div class="form-container">
          <form id="resetForm" class="form-card">
            <h2 class="form-title">Réinitialiser le mot de passe</h2>
            <input type="email" id="email" placeholder="Email" required>
            <input type="password" id="newPassword" placeholder="Nouveau mot de passe" required>
            <button type="submit" class="btn-animated btn-block">Réinitialiser</button>
            <div id="resetMessage" class="form-message"></div>
          </form>
        </div>
        <script>
          document.getElementById("resetForm").addEventListener("submit", async (e) => {
            e.preventDefault();
            const email = document.getElementById("email").value;
            const newPassword = document.getElementById("newPassword").value;
            const msg = document.getElementById("resetMessage");const res = await fetch("http://localhost:5000/api/reset-password", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email, mot_de_passe: newPassword })
        });
      
        const data = await res.json();
        msg.textContent = res.ok ? "Mot de passe réinitialisé !" : data.error || "Erreur";
      });
      
        </script>
      </body>
      </html>